

1) change mmap to fopen, I tested and the speeds are the same. Fopen is more portable.
